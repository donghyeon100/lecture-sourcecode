<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>12. 객체</title>
</head>
<style>
	.area {
		height:200px;
		border:1px solid black;
		background:lightgray;
	}
	.big {
		height:300px;
	}
</style>
<body>
	<h1>객체</h1>
	<h3>객체 선언 및 속성 호출</h3>
	<p>
		자바스크립트 객체는 Key:Value(속성) 형태로 되어있다.<br>
		객체는 {}(중괄호, 객체 리터럴) 또는 new 를 이용하여 생성하고, <br>
		속성에는 모든 자료형이 올 수 있다.
	</p>
	<button onclick="test1();">실행확인</button>
	<div id="area1" class="area"></div>
	<script>
		function test1(){
			var product = {
					pName:'Dry Mango',
					ingredient:['mango', 'sugar']
			}
			
			var area1 = document.getElementById("area1");
			
			area1.innerHTML = "";
			area1.innerHTML += "<b>객체명.속성명 으로 접근하기</b><br>";
			area1.innerHTML += "product.pName : " + product.pName + "<br>";
			area1.innerHTML += "product.ingredient[0] : " + product.ingredient[0] + "<br>";
			area1.innerHTML += "product.ingredient[1] : " + product.ingredient[1] + "<br><br>";
			
			area1.innerHTML += "<b>객체명['속성명']으로 접근하기</b><br>";
			area1.innerHTML += "product['pName'] : " + product['pName'] + "<br>";
			area1.innerHTML += "product['ingredient'][0] : " + product['ingredient'][0] + "<br>";
			area1.innerHTML += "product['ingredient'][1] : " + product['ingredient'][1] + "<br>";
			
		}
	</script>
	
	
	
	<hr>
	
	<h3>객체의 메소드 속성</h3>
	<p>객체의 속성 중 타입이 함수(Function)인 속성을 메소드라고 부른다.</p>
	<button onclick="test2();">실행확인</button>
	<div id="area2" class="area"></div>
	<script>
		function test2(){
			var area2 = document.getElementById("area2");
			var name = '뽀삐';
			var dog = {
				name:'복실이',
				eat:function (food){
					//객체 내에서 자신의 속성을 호출할 때는 반드시 this를 사용해야 한다.(자바와 반대)
					//다른 프로그래밍 언어 개발자들이 많이 하는 실수중에 하나이다!! 반드시 this를 명시적으로 사용할 것!!!
					area2.innerHTML = 'name (test2().name) : ' + name + '<br>';
					area2.innerHTML += 'this.name (dog.name) : ' + this.name + '<br>';
					
				}
			}
			
			dog.eat('바나나');
		}
	</script>
	
	<hr>
	
	<h3>객체와 반복문</h3>
	<p>
		for in 문 : 객체의 속성에 순차적으로 접근
	</p>
	<button onclick="test4();">실행확인</button>
	<div id="area4" class="area"></div>
	<script>
		function test4(){
			var game = {
					title:'DIABLO 3',
					price:'35,000원',
					language:'한국어지원',
					supportOS:'window 32/64',
					service:true
			}
			console.log(game);
			
			var area4 = document.getElementById("area4");
			
			for(var key in game){
				area4.innerHTML += key + " : " + game[key] + "<br>";
			}

		}
		
	</script>
	
	<hr>
	
	<h3>in과 with 키워드</h3>
	<p>in : 객체 내부에 해당 속성이 있는지 확인하는 키워드<br>
	with : 코드를 줄여주는 키워드, 호출시 객체명 생략이 가능하다.</p>
	
	<label for="name">이름 : </label><input type="text" id="name"><br>
	<label for="kor">국어 : </label><input type="text" id="kor"><br>
	<label for="eng">영어 : </label><input type="text" id="eng"><br>
	<label for="math">수학 : </label><input type="text" id="math"><br>
	<button onclick="test4();">실행확인</button>
	<div id="area5" class="area big"></div>
	<script>
		function test4(){
			var name = document.getElementById("name").value;
			var kor = parseInt(document.getElementById("kor").value);
			var eng = parseInt(document.getElementById("eng").value);
			var math = parseInt(document.getElementById("math").value);
			
			var student = {
					name:name,
					kor:kor,
					eng:eng,
					math:math
			}
			//console.log(student);
			
			var area5 = document.getElementById("area5");
			
			area5.innerHTML = "";
			area5.innerHTML += "<b>in 키워드 테스트</b><br>";
			
			area5.innerHTML += 'student 객체에 name이라는 속성이 있는지 확인 : ' + ('name' in student) + "<br>";
			area5.innerHTML += 'student 객체에 kor이라는 속성이 있는지 확인 : ' + ('kor' in student) + "<br>";
			area5.innerHTML += 'student 객체에 eng이라는 속성이 있는지 확인 : ' + ('eng' in student) + "<br>";
			area5.innerHTML += 'student 객체에 math이라는 속성이 있는지 확인 : ' + ('math' in student) + "<br>";
			area5.innerHTML += 'student 객체에 sum이라는 속성이 있는지 확인 : ' + ('sum' in student) + "<br><br><br>";
			
			area5.innerHTML += "<b>with 키워드 테스트</b><br>";
			
			/* area5.innerHTML += "학생이름 : " + student.name + "<br>";
			area5.innerHTML += "국어점수 : " + student.kor + "<br>";
			area5.innerHTML += "영어점수 : " + student.eng + "<br>";
			area5.innerHTML += "수학점수 : " + student.math + "<br>";
			area5.innerHTML += "총점 : " + (student.kor + student.eng + student.math) + "<br>";
			area5.innerHTML += "평균 : " + ((student.kor + student.eng + student.math) / 3) + "<br>"; */
			
			with(student){
				area5.innerHTML += "학생이름 : " + name + "<br>";
				area5.innerHTML += "국어점수 : " + kor + "<br>";
				area5.innerHTML += "영어점수 : " + eng + "<br>";
				area5.innerHTML += "수학점수 : " + math + "<br>";
				area5.innerHTML += "총점 : " + (kor + eng + math) + "<br>";
				area5.innerHTML += "평균 : " + ((kor + eng + math) / 3) + "<br>";
			}
			
		}
		
		
		
	</script>
	
	<hr>
	
	<h3>객체의 속성 추가와 제거</h3>
	<p>처음 객체 생성 이후 속성을 추가하거나 제거하는 것을 '동적으로 속성을 추가한다 혹은 제거한다' 라고 한다.</p>
	<button onclick="test6();">실행확인</button>
	<script>
		function test6(){
			//빈 객체 선언
			var student = {};
			
			console.log(student)
			//객체에 속성을 추가
			student.name = "홍길동";
			student.hobby = "게임";
			student.strength = "프로그래밍";
			student.dream = "개발자";
			 
			console.log(student);
			
			// 객체 속성 제거
			delete(student.dream);
			console.log(student);
		}
		
	</script>
	
</body>
</html>